{"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueueDriver"},{"kind":"text","text":" : "},{"preciseIdentifier":"s:s8SendableP","kind":"typeIdentifier","text":"Sendable"},{"kind":"text","text":", "},{"preciseIdentifier":"s:Sci","kind":"typeIdentifier","text":"AsyncSequence"}],"platforms":["Linux"]}]},{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"Defines how to push and pop job data off a queue","type":"text"}]}]}],"variants":[{"paths":["\/documentation\/hummingbirdjobs\/jobqueuedriver"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"abstract":[{"type":"text","text":"Job queue protocol."}],"schemaVersion":{"major":0,"minor":3,"patch":0},"relationshipsSections":[{"kind":"relationships","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/s8SendableP","doc:\/\/com.opticalaberration.hummingbird\/Sci"],"type":"inheritsFrom","title":"Inherits From"},{"kind":"relationships","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/MemoryQueue","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsPostgres\/PostgresQueue","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsRedis\/RedisQueue"],"type":"conformingTypes","title":"Conforming Types"}],"metadata":{"symbolKind":"protocol","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueueDriver"}],"navigatorTitle":[{"kind":"identifier","text":"JobQueueDriver"}],"roleHeading":"Protocol","modules":[{"name":"HummingbirdJobs"}],"title":"JobQueueDriver","externalID":"s:15HummingbirdJobs14JobQueueDriverP"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver"},"seeAlsoSections":[{"identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueue","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/QueuedJob","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/MemoryQueue"],"generated":true,"title":"Queues"}],"hierarchy":{"paths":[["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs"]]},"topicSections":[{"identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/JobID"],"title":"Associated Types"},{"identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/failed(jobId:error:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/finished(jobId:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/onInit()-273at","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/push(_:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/shutdownGracefully()","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/stop()"],"title":"Instance Methods"},{"identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/memory"],"title":"Type Properties"},{"identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/postgres(client:migrations:configuration:logger:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/redis(_:configuration:)"],"title":"Type Methods"}],"references":{"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/shutdownGracefully()":{"kind":"symbol","type":"topic","title":"shutdownGracefully()","abstract":[{"type":"text","text":"shutdown queue"}],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/shutdownGracefully()","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/shutdowngracefully()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"shutdownGracefully"},{"kind":"text","text":"() "},{"kind":"keyword","text":"async"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/onInit()-273at":{"defaultImplementations":1,"kind":"symbol","type":"topic","title":"onInit()","abstract":[{"type":"text","text":"Called when JobQueueHandler is initialised with this queue"}],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/onInit()-273at","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/oninit()-273at","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"onInit"},{"kind":"text","text":"() "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs":{"kind":"symbol","type":"topic","title":"HummingbirdJobs","abstract":[{"type":"text","text":"Offload work your server would be doing to another server."}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs","role":"collection","url":"\/documentation\/hummingbirdjobs"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/postgres(client:migrations:configuration:logger:)":{"kind":"symbol","type":"topic","title":"postgres(client:migrations:configuration:logger:)","abstract":[{"type":"text","text":"Return Postgres driver for Job Queue"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/postgres(client:migrations:configuration:logger:)","role":"symbol","conformance":{"conformancePrefix":[{"type":"text","text":"Conforms when"}],"constraints":[{"type":"codeVoice","code":"Self"},{"type":"text","text":" is "},{"type":"codeVoice","code":"PostgresQueue"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}]},"url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/postgres(client:migrations:configuration:logger:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"postgres"},{"kind":"text","text":"("},{"kind":"externalParam","text":"client"},{"kind":"text","text":": "},{"preciseIdentifier":"s:11PostgresNIO0A6ClientC","kind":"typeIdentifier","text":"PostgresClient"},{"kind":"text","text":", "},{"kind":"externalParam","text":"migrations"},{"kind":"text","text":": "},{"preciseIdentifier":"s:19HummingbirdPostgres0B10MigrationsC","kind":"typeIdentifier","text":"PostgresMigrations"},{"kind":"text","text":", "},{"kind":"externalParam","text":"configuration"},{"kind":"text","text":": "},{"preciseIdentifier":"s:23HummingbirdJobsPostgres0C5QueueC","kind":"typeIdentifier","text":"PostgresQueue"},{"kind":"text","text":"."},{"preciseIdentifier":"s:23HummingbirdJobsPostgres0C5QueueC13ConfigurationV","kind":"typeIdentifier","text":"Configuration"},{"kind":"text","text":", "},{"kind":"externalParam","text":"logger"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7Logging6LoggerV","kind":"typeIdentifier","text":"Logger"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Self"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/MemoryQueue":{"kind":"symbol","type":"topic","title":"MemoryQueue","abstract":[{"type":"text","text":"In memory implementation of job queue driver. Stores job data in a circular buffer"}],"navigatorTitle":[{"kind":"identifier","text":"MemoryQueue"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/MemoryQueue","role":"symbol","url":"\/documentation\/hummingbirdjobs\/memoryqueue","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MemoryQueue"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/stop()":{"kind":"symbol","type":"topic","title":"stop()","abstract":[{"type":"text","text":"stop serving jobs"}],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/stop()","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/stop()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"stop"},{"kind":"text","text":"() "},{"kind":"keyword","text":"async"}]},"doc://com.opticalaberration.hummingbird/Sci":{"type":"unresolvable","title":"_Concurrency.AsyncSequence","identifier":"doc:\/\/com.opticalaberration.hummingbird\/Sci"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/redis(_:configuration:)":{"kind":"symbol","type":"topic","title":"redis(_:configuration:)","abstract":[{"type":"text","text":"Return Redis driver for Job Queue"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/redis(_:configuration:)","role":"symbol","conformance":{"conformancePrefix":[{"type":"text","text":"Conforms when"}],"constraints":[{"code":"Self","type":"codeVoice"},{"type":"text","text":" is "},{"code":"RedisQueue","type":"codeVoice"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}]},"url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/redis(_:configuration:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"redis"},{"kind":"text","text":"("},{"preciseIdentifier":"s:16HummingbirdRedis0B21ConnectionPoolServiceV","kind":"typeIdentifier","text":"RedisConnectionPoolService"},{"kind":"text","text":", "},{"kind":"externalParam","text":"configuration"},{"kind":"text","text":": "},{"preciseIdentifier":"s:20HummingbirdJobsRedis0C5QueueC","kind":"typeIdentifier","text":"RedisQueue"},{"kind":"text","text":"."},{"preciseIdentifier":"s:20HummingbirdJobsRedis0C5QueueC13ConfigurationV","kind":"typeIdentifier","text":"Configuration"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Self"}]},"doc://com.opticalaberration.hummingbird/s8SendableP":{"type":"unresolvable","title":"Swift.Sendable","identifier":"doc:\/\/com.opticalaberration.hummingbird\/s8SendableP"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobsPostgres/PostgresQueue":{"kind":"symbol","type":"topic","title":"PostgresQueue","abstract":[{"type":"text","text":"Postgres Job queue implementation"}],"navigatorTitle":[{"text":"PostgresQueue","kind":"identifier"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsPostgres\/PostgresQueue","role":"symbol","url":"\/documentation\/hummingbirdjobspostgres\/postgresqueue","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PostgresQueue","kind":"identifier"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/memory":{"kind":"symbol","type":"topic","title":"memory","abstract":[{"type":"text","text":"Return In memory driver for Job Queue"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/memory","role":"symbol","conformance":{"conformancePrefix":[{"text":"Conforms when","type":"text"}],"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"MemoryQueue"},{"text":".","type":"text"}],"availabilityPrefix":[{"text":"Available when","type":"text"}]},"url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/memory","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"memory"},{"kind":"text","text":": "},{"preciseIdentifier":"s:15HummingbirdJobs11MemoryQueueC","kind":"typeIdentifier","text":"MemoryQueue"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/failed(jobId:error:)":{"kind":"symbol","type":"topic","title":"failed(jobId:error:)","abstract":[{"type":"text","text":"This is called to say job has failed to run and should be put aside"}],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/failed(jobId:error:)","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/failed(jobid:error:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"failed"},{"kind":"text","text":"("},{"kind":"externalParam","text":"jobId"},{"kind":"text","text":": "},{"preciseIdentifier":"s:15HummingbirdJobs14JobQueueDriverP0C2IDQa","kind":"typeIdentifier","text":"JobID"},{"kind":"text","text":", "},{"kind":"externalParam","text":"error"},{"kind":"text","text":": "},{"kind":"keyword","text":"any"},{"kind":"text","text":" "},{"preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier","text":"Error"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueue":{"kind":"symbol","type":"topic","title":"JobQueue","abstract":[{"type":"text","text":"Job queue"}],"navigatorTitle":[{"kind":"identifier","text":"JobQueue"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueue","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueue","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueue"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver":{"kind":"symbol","type":"topic","title":"JobQueueDriver","abstract":[{"type":"text","text":"Job queue protocol."}],"navigatorTitle":[{"kind":"identifier","text":"JobQueueDriver"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueueDriver"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobsRedis/RedisQueue":{"kind":"symbol","type":"topic","title":"RedisQueue","abstract":[{"type":"text","text":"Redis implementation of job queue driver"}],"navigatorTitle":[{"kind":"identifier","text":"RedisQueue"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsRedis\/RedisQueue","role":"symbol","url":"\/documentation\/hummingbirdjobsredis\/redisqueue","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"RedisQueue"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/finished(jobId:)":{"kind":"symbol","type":"topic","title":"finished(jobId:)","abstract":[{"type":"text","text":"This is called to say job has finished processing and it can be deleted"}],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/finished(jobId:)","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/finished(jobid:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"finished"},{"kind":"text","text":"("},{"kind":"externalParam","text":"jobId"},{"kind":"text","text":": "},{"preciseIdentifier":"s:15HummingbirdJobs14JobQueueDriverP0C2IDQa","kind":"typeIdentifier","text":"JobID"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/JobID":{"kind":"symbol","type":"topic","title":"JobID","abstract":[],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/JobID","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/jobid","fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobID"},{"kind":"text","text":" : "},{"preciseIdentifier":"s:s23CustomStringConvertibleP","kind":"typeIdentifier","text":"CustomStringConvertible"},{"kind":"text","text":", "},{"preciseIdentifier":"s:s8SendableP","kind":"typeIdentifier","text":"Sendable"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/QueuedJob":{"kind":"symbol","type":"topic","title":"QueuedJob","abstract":[{"type":"text","text":"Queued job. Includes job data, plus the id for the job"}],"navigatorTitle":[{"kind":"identifier","text":"QueuedJob"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/QueuedJob","role":"symbol","url":"\/documentation\/hummingbirdjobs\/queuedjob","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"QueuedJob"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/push(_:)":{"kind":"symbol","type":"topic","title":"push(_:)","abstract":[{"type":"text","text":"Push Job onto queue"}],"required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/push(_:)","role":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/push(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"push"},{"kind":"text","text":"("},{"preciseIdentifier":"s:7NIOCore10ByteBufferV","kind":"typeIdentifier","text":"ByteBuffer"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:15HummingbirdJobs14JobQueueDriverP0C2IDQa","kind":"typeIdentifier","text":"JobID"}]}}}