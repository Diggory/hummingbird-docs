{"schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"text":"Job queue protocol.","type":"text"}],"relationshipsSections":[{"title":"Inherits From","type":"inheritsFrom","kind":"relationships","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/s8SendableP","doc:\/\/com.opticalaberration.hummingbird\/Sci"]},{"title":"Conforming Types","type":"conformingTypes","kind":"relationships","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/MemoryQueue","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsPostgres\/PostgresQueue","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsRedis\/RedisQueue"]}],"kind":"symbol","sections":[],"seeAlsoSections":[{"title":"Queues","generated":true,"identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueue","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/QueuedJob","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/MemoryQueue"]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/hummingbirdjobs\/jobqueuedriver"]}],"metadata":{"navigatorTitle":[{"kind":"identifier","text":"JobQueueDriver"}],"roleHeading":"Protocol","title":"JobQueueDriver","externalID":"s:15HummingbirdJobs14JobQueueDriverP","symbolKind":"protocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueueDriver"}],"modules":[{"name":"HummingbirdJobs"}],"role":"symbol"},"topicSections":[{"title":"Associated Types","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/JobID"]},{"title":"Instance Methods","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/failed(jobId:error:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/finished(jobId:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/onInit()-273at","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/push(_:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/shutdownGracefully()","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/stop()"]},{"title":"Type Properties","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/memory"]},{"title":"Type Methods","identifiers":["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/postgres(client:migrations:configuration:logger:)","doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/redis(_:configuration:)"]}],"identifier":{"url":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver","interfaceLanguage":"swift"},"primaryContentSections":[{"declarations":[{"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueueDriver"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"Sendable","preciseIdentifier":"s:s8SendableP"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"AsyncSequence","preciseIdentifier":"s:Sci"}],"languages":["swift"],"platforms":["Linux"]}],"kind":"declarations"},{"content":[{"anchor":"overview","text":"Overview","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Defines how to push and pop job data off a queue"}],"type":"paragraph"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs"]]},"references":{"doc://com.opticalaberration.hummingbird/s8SendableP":{"identifier":"doc:\/\/com.opticalaberration.hummingbird\/s8SendableP","type":"unresolvable","title":"Swift.Sendable"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs":{"url":"\/documentation\/hummingbirdjobs","abstract":[{"text":"Offload work your server would be doing to another server.","type":"text"}],"type":"topic","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs","kind":"symbol","title":"HummingbirdJobs","role":"collection"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/finished(jobId:)":{"role":"symbol","type":"topic","required":true,"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/finished(jobId:)","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"finished","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"jobId"},{"kind":"text","text":": "},{"preciseIdentifier":"s:15HummingbirdJobs14JobQueueDriverP0C2IDQa","text":"JobID","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"title":"finished(jobId:)","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/finished(jobid:)","abstract":[{"type":"text","text":"This is called to say job has finished processing and it can be deleted"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/redis(_:configuration:)":{"abstract":[{"text":"Return Redis driver for Job Queue","type":"text"}],"type":"topic","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"redis","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:16HummingbirdRedis0B21ConnectionPoolServiceV","text":"RedisConnectionPoolService","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"configuration","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:20HummingbirdJobsRedis0C5QueueC","text":"RedisQueue","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:20HummingbirdJobsRedis0C5QueueC13ConfigurationV","text":"Configuration","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/redis(_:configuration:)","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/redis(_:configuration:)","title":"redis(_:configuration:)","role":"symbol","conformance":{"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"RedisQueue"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}],"availabilityPrefix":[{"text":"Available when","type":"text"}]},"kind":"symbol"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobsPostgres/PostgresQueue":{"navigatorTitle":[{"kind":"identifier","text":"PostgresQueue"}],"url":"\/documentation\/hummingbirdjobspostgres\/postgresqueue","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PostgresQueue"}],"title":"PostgresQueue","abstract":[{"type":"text","text":"Postgres Job queue implementation"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsPostgres\/PostgresQueue","role":"symbol","kind":"symbol"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/JobID":{"role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"text":"JobID","kind":"identifier"},{"text":" : ","kind":"text"},{"kind":"typeIdentifier","text":"CustomStringConvertible","preciseIdentifier":"s:s23CustomStringConvertibleP"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Sendable","preciseIdentifier":"s:s8SendableP"}],"abstract":[],"url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/jobid","title":"JobID","required":true,"type":"topic","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/JobID"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/failed(jobId:error:)":{"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/failed(jobId:error:)","abstract":[{"type":"text","text":"This is called to say job has failed to run and should be put aside"}],"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"failed","kind":"identifier"},{"text":"(","kind":"text"},{"text":"jobId","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:15HummingbirdJobs14JobQueueDriverP0C2IDQa","text":"JobID","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"error","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"any","kind":"keyword"},{"text":" ","kind":"text"},{"preciseIdentifier":"s:s5ErrorP","text":"Error","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"}],"kind":"symbol","required":true,"type":"topic","title":"failed(jobId:error:)","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/failed(jobid:error:)"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/MemoryQueue":{"url":"\/documentation\/hummingbirdjobs\/memoryqueue","navigatorTitle":[{"kind":"identifier","text":"MemoryQueue"}],"abstract":[{"type":"text","text":"In memory implementation of job queue driver. Stores job data in a circular buffer"}],"type":"topic","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/MemoryQueue","kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MemoryQueue"}],"title":"MemoryQueue","role":"symbol"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/shutdownGracefully()":{"title":"shutdownGracefully()","role":"symbol","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"shutdownGracefully"},{"kind":"text","text":"() "},{"kind":"keyword","text":"async"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/shutdownGracefully()","abstract":[{"text":"shutdown queue","type":"text"}],"type":"topic","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/shutdowngracefully()","required":true},"doc://com.opticalaberration.hummingbird/Sci":{"identifier":"doc:\/\/com.opticalaberration.hummingbird\/Sci","type":"unresolvable","title":"_Concurrency.AsyncSequence"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/QueuedJob":{"role":"symbol","kind":"symbol","title":"QueuedJob","navigatorTitle":[{"text":"QueuedJob","kind":"identifier"}],"abstract":[{"type":"text","text":"Queued job. Includes job data, plus the id for the job"}],"type":"topic","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/QueuedJob","url":"\/documentation\/hummingbirdjobs\/queuedjob","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"QueuedJob","kind":"identifier"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/memory":{"abstract":[{"type":"text","text":"Return In memory driver for Job Queue"}],"role":"symbol","type":"topic","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/memory","conformance":{"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"MemoryQueue"},{"text":".","type":"text"}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"title":"memory","kind":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/memory","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"memory","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:15HummingbirdJobs11MemoryQueueC","text":"MemoryQueue","kind":"typeIdentifier"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/postgres(client:migrations:configuration:logger:)":{"kind":"symbol","abstract":[{"text":"Return Postgres driver for Job Queue","type":"text"}],"role":"symbol","title":"postgres(client:migrations:configuration:logger:)","conformance":{"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"type":"codeVoice","code":"Self"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"PostgresQueue"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}]},"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/postgres(client:migrations:configuration:logger:)","type":"topic","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/postgres(client:migrations:configuration:logger:)","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"postgres","kind":"identifier"},{"text":"(","kind":"text"},{"text":"client","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"PostgresClient","kind":"typeIdentifier","preciseIdentifier":"s:11PostgresNIO0A6ClientC"},{"text":", ","kind":"text"},{"text":"migrations","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"PostgresMigrations","preciseIdentifier":"s:19HummingbirdPostgres0B10MigrationsC"},{"kind":"text","text":", "},{"kind":"externalParam","text":"configuration"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PostgresQueue","preciseIdentifier":"s:23HummingbirdJobsPostgres0C5QueueC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:23HummingbirdJobsPostgres0C5QueueC13ConfigurationV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"logger"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Logger","preciseIdentifier":"s:7Logging6LoggerV"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Self"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver":{"navigatorTitle":[{"kind":"identifier","text":"JobQueueDriver"}],"kind":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"JobQueueDriver"}],"type":"topic","abstract":[{"text":"Job queue protocol.","type":"text"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver","title":"JobQueueDriver"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueue":{"kind":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueue","title":"JobQueue","abstract":[{"type":"text","text":"Job queue"}],"role":"symbol","type":"topic","navigatorTitle":[{"text":"JobQueue","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"JobQueue","kind":"identifier"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueue"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobsRedis/RedisQueue":{"abstract":[{"text":"Redis implementation of job queue driver","type":"text"}],"role":"symbol","kind":"symbol","type":"topic","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobsRedis\/RedisQueue","url":"\/documentation\/hummingbirdjobsredis\/redisqueue","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RedisQueue","kind":"identifier"}],"title":"RedisQueue","navigatorTitle":[{"text":"RedisQueue","kind":"identifier"}]},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/onInit()-273at":{"title":"onInit()","defaultImplementations":1,"type":"topic","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/oninit()-273at","kind":"symbol","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"onInit"},{"kind":"text","text":"() "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"required":true,"abstract":[{"text":"Called when JobQueueHandler is initialised with this queue","type":"text"}],"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/onInit()-273at"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/push(_:)":{"required":true,"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"push"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"ByteBuffer","preciseIdentifier":"s:7NIOCore10ByteBufferV"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"JobID","preciseIdentifier":"s:15HummingbirdJobs14JobQueueDriverP0C2IDQa"}],"type":"topic","role":"symbol","identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/push(_:)","title":"push(_:)","abstract":[{"text":"Push Job onto queue","type":"text"}],"kind":"symbol","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/push(_:)"},"doc://com.opticalaberration.hummingbird/documentation/HummingbirdJobs/JobQueueDriver/stop()":{"identifier":"doc:\/\/com.opticalaberration.hummingbird\/documentation\/HummingbirdJobs\/JobQueueDriver\/stop()","title":"stop()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"stop","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"}],"kind":"symbol","type":"topic","url":"\/documentation\/hummingbirdjobs\/jobqueuedriver\/stop()","role":"symbol","abstract":[{"text":"stop serving jobs","type":"text"}],"required":true}}}